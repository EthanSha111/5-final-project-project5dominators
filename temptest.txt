def test_convert_to_sketch(client, mocked_mongo):
    with client:
        client.post('/login', data={'username': 'testuser'}, follow_redirects=True)
        response = client.post('/convert_to_sketch', data={
            'message': 'Sketch me!',
            'image': BASE64_IMAGE
        })
        assert response.status_code == 200
        data = json.loads(response.data)
        assert 'message' in data
        assert data['message'] == 'Sketch me!'
        assert 'photo' in data
        assert data['photo'].startswith('data:image/jpeg;base64,')


def test_convert_to_cartoon(client, mocked_mongo):
    with client:
        client.post('/login', data={'username': 'testuser'}, follow_redirects=True)
        response = client.post('/convert_to_cartoon', data={
            'message': 'Cartoonize me!',
            'image': BASE64_IMAGE
        })
        assert response.status_code == 200
        data = json.loads(response.data)
        assert 'message' in data
        assert data['message'] == 'Cartoonize me!'
        assert 'photo' in data
        assert data['photo'].startswith('data:image/jpeg;base64,')